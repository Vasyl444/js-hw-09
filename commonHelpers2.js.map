{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n    email: \"\",\n    message: \"\",\n};\nconst form = document.querySelector(\".feedback-form\");\nconst localStorageKey = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\nformData = localStorageKey ?? formData;\n\nconst allert = '<div class=\"allert\">Fill please all fields</div>';\nform.insertAdjacentHTML(\"afterend\", allert);\nconst allertDiv = document.querySelector(\".allert\");\nform.addEventListener(\"click\", () => { allertDiv.classList.remove(\"open-allert\") });\n\nform.addEventListener(\"input\", (event) => {\n    if (event.target === form.elements.email) {\n        formData.email = event.target.value.trim();\n    } else {\n        formData.message = event.target.value;\n    };\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));   \n});\nform.elements.email.value = formData.email;\nform.elements.message.value = formData.message;\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const validMessage = Array.from(form.elements.message.value);\n    const isValidMessage = [];\n    for (let elem of validMessage) {\n        if (elem !== \" \") {\n            isValidMessage.push(elem);\n        } \n    };\n    const validEmail = Array.from(form.elements.email.value);\n    const isValidEmail = [];\n    for (let elem of validEmail) {\n        if (elem !== \" \") {\n            isValidEmail.push(elem);\n        } \n    }\n    if (form.elements.email.value === \"\" || form.elements.message.value === \"\") {\n        allertDiv.classList.add(\"open-allert\");\n    } else if (isValidMessage.length === 0 || isValidEmail.length === 0) {\n        return;\n    } else {\n        console.log(formData);\n        formData.email = \"\";\n        formData.message = \"\";\n        localStorage.removeItem(\"feedback-form-state\");\n        form.reset();\n    }\n})"],"names":["formData","form","localStorageKey","allert","allertDiv","event","validMessage","isValidMessage","elem","validEmail","isValidEmail"],"mappings":"mCAAA,IAAIA,EAAW,CACX,MAAO,GACP,QAAS,EACb,EACA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAC9EF,EAAWE,GAAmBF,EAE9B,MAAMG,EAAS,mDACfF,EAAK,mBAAmB,WAAYE,CAAM,EAC1C,MAAMC,EAAY,SAAS,cAAc,SAAS,EAClDH,EAAK,iBAAiB,QAAS,IAAM,CAAEG,EAAU,UAAU,OAAO,aAAa,CAAC,CAAE,EAElFH,EAAK,iBAAiB,QAAUI,GAAU,CAClCA,EAAM,SAAWJ,EAAK,SAAS,MAC/BD,EAAS,MAAQK,EAAM,OAAO,MAAM,KAAI,EAExCL,EAAS,QAAUK,EAAM,OAAO,MAEpC,aAAa,QAAQ,sBAAuB,KAAK,UAAUL,CAAQ,CAAC,CACxE,CAAC,EACDC,EAAK,SAAS,MAAM,MAAQD,EAAS,MACrCC,EAAK,SAAS,QAAQ,MAAQD,EAAS,QAEvCC,EAAK,iBAAiB,SAAWI,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAe,MAAM,KAAKL,EAAK,SAAS,QAAQ,KAAK,EACrDM,EAAiB,CAAA,EACvB,QAASC,KAAQF,EACTE,IAAS,KACTD,EAAe,KAAKC,CAAI,EAGhC,MAAMC,EAAa,MAAM,KAAKR,EAAK,SAAS,MAAM,KAAK,EACjDS,EAAe,CAAA,EACrB,QAASF,KAAQC,EACTD,IAAS,KACTE,EAAa,KAAKF,CAAI,EAG9B,GAAIP,EAAK,SAAS,MAAM,QAAU,IAAMA,EAAK,SAAS,QAAQ,QAAU,GACpEG,EAAU,UAAU,IAAI,aAAa,MAClC,IAAIG,EAAe,SAAW,GAAKG,EAAa,SAAW,EAC9D,OAEA,QAAQ,IAAIV,CAAQ,EACpBA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnB,aAAa,WAAW,qBAAqB,EAC7CC,EAAK,MAAK,EAElB,CAAC"}